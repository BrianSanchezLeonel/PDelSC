<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Zoológico</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
  <div class="container mt-5">
    <h2 class="text-center mb-4">Ingreso de Animales al Zoológico</h2>
    <div class="card shadow p-4 mb-4">
      <form action="/agregar" method="POST" class="row g-3">
        <div class="col-md-2">
          <label class="form-label">ID Animal</label>
          <input type="number" name="idAnimal" class="form-control" required>
        </div>
        <div class="col-md-4">
          <label class="form-label">Nombre</label>
          <input type="text" name="nombre" class="form-control" required>
        </div>
        <div class="col-md-2">
          <label class="form-label">Jaula N°</label>
          <input type="number" name="jaulaNumero" class="form-control" required>
        </div>
        <div class="col-md-2">
          <label class="form-label">Tipo (1=Felino, 2=Ave, 3=Reptil...)</label>
          <input type="number" name="idTypeAnimal" class="form-control" required>
        </div>
        <div class="col-md-2">
          <label class="form-label">Peso (kg)</label>
          <input type="number" step="0.1" name="peso" class="form-control" required>
        </div>
        <div class="col-12">
          <button type="submit" class="btn btn-primary">Agregar Animal</button>
        </div>
      </form>
    </div>

    <div class="card shadow p-4 mb-4">
      <h3 class="mb-3">Resultados</h3>
      <% if (zooAnimals.length > 0) { %>
        <ul class="list-group">
          <li class="list-group-item">
            <b>b)</b> Animales en Jaula 5 con peso &lt; 3kg:
            <span class="badge bg-info"><%= resultados.jaula5Menor3 %></span>
          </li>
          <li class="list-group-item">
            <b>c)</b> Felinos en jaulas 2 a 5:
            <span class="badge bg-success"><%= resultados.felinosEntre2y5 %></span>
          </li>
          <li class="list-group-item">
            <b>d)</b> Animal en jaula 4 con peso &lt; 120kg:
            <span class="badge bg-warning text-dark"><%= resultados.animalJaula4 %></span>
          </li>
        </ul>
      <% } else { %>
        <div class="alert alert-secondary">No hay animales cargados.</div>
      <% } %>
    </div>

    <div class="card shadow p-4">
      <h3 class="mb-3">Tabla de Animales</h3>
      <table class="table table-bordered table-striped table-hover">
        <thead class="table-dark">
          <tr>
            <th>ID</th>
            <th>Nombre</th>
            <th>Jaula</th>
            <th>Tipo</th>
            <th>Peso</th>
          </tr>
        </thead>
        <tbody>
          <% zooAnimals.forEach(a => { %>
            <tr>
              <td><%= a.IdAnimal %></td>
              <td><%= a.nombre %></td>
              <td><%= a.JaulaNumero %></td>
              <td><%= a.IdTypeAnimal %></td>
              <td><%= a.peso %></td>
            </tr>
          <% }) %>
        </tbody>
      </table>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>